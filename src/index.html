<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <script src="../node_modules/jquery/dist/jquery.min.js"></script> -->
    <!-- <script src="/bundle.js"></script> -->

</head>
<body>
    <div id="myapp">
        <!-- <demo></demo> -->
    </div>
</body>
<script>
function demo(data){  
    // console.log(data)
    // console.dir(data.list)
    let user = data.list
    if (data.status != 200) {
          //iViewUi的友好提示
          alert(data.msg);
        //登录成功
        
        } else {
          // let a=[{a:1,b:2}]
          // let a=[1,2,3]
          // let a =[{a:1,b:2}]
          // let a ={a:2}
          //设置Vuex登录标志为true，默认userLogin为false
        //   this.$store.dispatch("userLogin", true);
          //Vuex在用户刷新的时候userLogin会回到默认值false，所以我们需要用到HTML5储存
          //我们设置一个名为Flag，值为isLogin的字段，作用是如果Flag有值且为isLogin的时候，证明用户已经登录了。
          // console.log(user)
          // let b = [];
          // b.unshift(data.list)
          // console.log(b)
          // let a =JSON.parse(localStorage.getItem("Flag") || '[]'); 
          localStorage.setItem("Flag",JSON.stringify(data.list));
          
          // console.log(Flag)
          //iViewUi的友好提示
          // console.log(localStorage.getItem('Flag'));
          //登录成功后跳转到指定页面
        //   this.$router.push("/home");
            // setTimeout(function(){
             window.location="//localhost:8008/#/My"

            // },1000)
        }
  
}
function showWindow() {
    $('#showdiv').show();  //显示弹窗
    $('#cover').css('display','block'); //显示遮罩层
    $('#cover').css('height',document.body.clientHeight+'px'); //设置遮罩层的高度为当前页面高度
  }


window.onbeforeunload = function(){
    localStorage.clear('Flag');

    };
</script>
</html>